<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script src="./male_names_rus.js"></script>
    <script src="./male_surnames_rus.js"></script>
    <script>
        // В соревновании по велоспорту участвуют по 4 гонщика из каждой страны. О каждом гонщике известны следующие данные: 
        // номер, фамилия, имя, рейтинг. Соревнование проходит в два круга. Первый круг состоит из N этапов. Место страны на этапе 
        // определяется по времени худшего  (занявшего четвертое место) гонщика этой страны на рассматриваемом этапе. 
        // Место страны в итоговом протоколе первого круга определяется по наименьшей сумме мест, занятых страной на этапах, а при равенстве 
        // этого показателя – по более высокому месту в итоговом протоколе (в личном зачёте) лучших гонщиков конкурирующих стран. 
        // Во второй круг 
        // проходит 4 страны имеющие лучший результат. Второй круг проходит в два этапа. Место страны на этапе определяется по времени лучшего 
        // (занявшего первое место) гонщика этой страны на рассматриваемом этапе. Место страны в итоговом протоколе второго круга определяется 
        // по наименьшей сумме мест, занятых страной на этапах, а при равенстве этого показателя – по средне арифметическому значению рейтинга 
        // всех гонщиков страны.

        class Country {
            constructor(name, place, sumPlaces, riders) {
                this.name = name;
                this.place = place;
                this.sumPlaces = sumPlaces;
                this.riders = riders;
            }

            static setRiders(arrOfAllCountries) {
                for (let i = 0; i < arrOfAllCountries.length; i++) {
                    let arrOfRiders = [];
                    for (let j = 0; j < 4; j++) {
                        arrOfRiders[j] = new Rider(j + 1, Rider.setName(maleNamesRus), Rider.setName(maleSurnamesRus));
                    }
                    arrOfAllCountries[i].riders = arrOfRiders;
                }
                return arrOfAllCountries;
            }


            static startStage(arrOfAllCountries) {
                for (let i = 0; i < arrOfAllCountries.length; i++) {
                    let arrOfRiders = [];
                    for (let j = 0; j < 4; j++) {
                        arrOfAllCountries[i].riders[j].timeOnStage = +(Math.random() * 100 + 100).toFixed(2);
                    }
                }
                return arrOfAllCountries;
            }

        }

        class Rider {
            constructor(number, name, lastName, rating, time, place) {
                this.number = number;
                this.name = name;
                this.lastName = lastName;
                this.rating = rating;
                this.time = time;
                this.place = place;
            }

            static setName(arr) {
                return arr[Math.floor(Math.random() * arr.length)];
            }
            static setRating() {
                return Math.round(Math.random() * 100);
            }

            set timeOnStage(time) {
                return this.time = time;
            }

        }

        let allCountries = [
            new Country("Россия"),
            new Country("Российская империя"),
            new Country("Русское царство"),
            new Country("СССР"),
            new Country("Российская республика"),
        ]

        Country.setRiders(allCountries);
        Country.startStage(allCountries);
        console.log(allCountries);


    </script>
</body>

</html>